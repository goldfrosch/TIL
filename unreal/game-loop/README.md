# Game Loop

대부분의 게임엔진을 구축하는 원리로 게임 엔진의 일련의 플로우 과정으로 어떻게 우리가 특정 입력을 통해 애니메이션 및 게임 플레이가 연출되는 플로우를 말한다.

## 플로우

### 1. Process Input

게임 엔진이 플레이어의 Input 즉 입력에 대해 먼저 반응해준다. space-bar 클릭, 마우스 버튼 클릭 등을 인지하고 게임 엔진에서 그 값을 가져와 처리해주게 된다.

### 2. Update Game State

그 다음 이 정보를 기반으로 게임의 상태를 업데이트 하는 과정을 거치게 된다. 플레이어가 움직이거나 하는 등의 행동을 위해 물리 엔진이 실행되는 과정을 거치게 된다.

### 3. Render to display

게임 엔진에서 정해진 상태를 가져와 화면에 배치하는 과정을 거치게 된다. 플레이어의 위치나 카메라, actor들의 위치 등을 정하고 화면에 그 이미지(Frame)를 렌더링하는 과정을 거치게 된다.

#### Frame

프레임은 위의 설명대로 게임의 상태들을 기반으로 현재 보여줘야할 게임의 물리엔진 적용, 배치 등을 전부 완료한 이후 유저에게 보여주는 단건의 이미지이다. 해당 이미지를 초마다 보여주는 것은 FPS에 따라 달라지게 된다.

##### FPS (Frames Per Second)

컴퓨터는 초마다 훨씬 많은 프레임이나 적은 프레임을 노출시킬 수 있게 되는데, 이 주기를 Frames Per Second(FPS)라고 부르게 된다. 컴퓨터가 1초당 통과할 수 있는 게임 loop의 수이면서 input을 처리하고 상태를 업데이트하여 렌더링을 초당 할 수 있는 빈도 수의 계산이라고 할 수 있다. 즉 이 FPS가 높으면 높을 수록 게임이 조금 더 자연스럽게 흘러가는 것 처럼 보이게 되고, 이는 컴퓨터의 CPU나 그래픽카드, 네트워크 등에 따라 결정되게 된다.

#### Tick

위에서 Frame에 대한 정보를 알게 되었다. 즉 매번 렌더링을 진행해 Frame을 만들고 보여줄 때 언리얼에서는 Tick이라는 개념 이벤트 안에서 Frame이 변경될 때 마다 호출할 이벤트를 지정할 수 있다.

해당 행동은 유저의 input이 어떤 것이냐에 따라 어떻게 변경할 지에 대해 설정하거나, 게임 상태를 변경할 수 있어 프레임 변경에 영향을 줄 수 있는 함수라고 할 수 있다.

일반적으로 특정 action에 대한 처리는 이 Tick에서 한다고 할 수 있다.
