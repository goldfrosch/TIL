# Node.js란?

Node.js란 브라우저가 자바스크립트를 읽고 해석하는 역할을 하는 엔진인 V8을 브라우저 외에서도 사용 가능하게 하기 위해 만들어진 비동기 이벤트 기반 JS 런타임(프로그램이 실행되고 있는 동안의 동작 즉 실행창)이다.

동시성 모델(멀티 스레드 기반) 프레임워크 같은 경우 스레드 기반 네트워크 동작들이 컨텍스트 스위칭 등의 비효울적인 동작들이 있어 프로세스 교착 상태(dead-lock)의 우려가 있다.

하지만 Node.js의 경우 기본적으로 싱글 스레드로 동작하고 process를 blocking하는 처리는 File I/O처리만 있기 때문에 매우 편하고 빠르게 사용이 가능하고, 비동기 처리는 Event-Loop를 런타임 내에 내장시켜 활용함으로써 동시성을 유지시키면서도 불필요한 프로세스 blocking 작업을 하지 않게된다.

## Node.js와 브라우저 차이점

Node.js와 브라우저 모두 JavaScript를 기반으로 사용된다라는 공통점은 존재하지만, 브라우저에서 실행되는 앱과 Node.js 애플리케이션을 구축하는 것은 완전히 다르다. 그 중 Node.js는 런타임 엔진이기 때문에 브라우저를 위한 JS 개발과는 다르게 별도의 엔진 프로그램 활성화가 되기에 개발자의 관점(특히 JS를 사용하는 프론트엔드 개발자)으로 보게 된다면 클라이언트와 서버를 둘다 개발이 가능하기에 하나의 언어로 모든 것을 커버하는 이점을 제공하게 된다.

하나의 언어를 이해하고 깊이 들어가 익히는 것이 어려운 것을 알기에 Node.js를 통해 하나의 언어로 모든 것을 개발하는 큰 이점을 가지고 있는 Node.js를 많이 이용하기도 한다.

### 환경 차이

브라우저에서 수행하는 작업 대부분은 DOM 혹은 쿠키와 같은 WebAPI와 상호작용하는 경우가 많지만 node.js에서는 이 WebAPI와 상호작용이 불가능하다. (브라우저 환경이 아니니...)

그렇기 때문에 Node.js에서는 document나 window의 사용이 불가능하다고 할 수 있고, 당연하게 브라우저에서는 File access system 같은 모듈이 별도로 존재하지 않는다.

### 환경 제어

또 다른 큰 차이점은 Node.js에서는 환경을 제어할 수 있다. 어떤 브라우저를 사용할 지 선택할 여지가 없는 브라우저 환경(유저의 상황에 따라 브라우저는 다른 것이 선택된다.)에 비해서 Node.js의 환경은 실행할 버전에 대해 알 수 있고, 정의가 가능해 어느정도 환경에 대한 변수(에러)를 조절할 수 있다.

### 모듈 환경

또한 Node.js는 CommonJS와 ESModule(Node.js v12 부터) 둘 다 지원하지만, 브라우저에서는 ES Module 표준이 구현되는 것을 볼 수 있다.

Node.js에서는 require()과 import 둘다 사용이 가능하지만 브라우저에서는 import만 사용 가능한 점이 중요한 차이점이다.

브라우저 번들러(Babel 같은)를 통해 코드를 브라우저에 전달하기 전 ES5와 호환되도록 빌드 시 변환하는 과정을 거치게 되지만 Node.js는 그것이 필요 없음을 또한 알 수 있다.
